import{r as i,j as e}from"./index-DSJ8qQsI.js";import{e as g}from"./PortalService-CisPuOln.js";import{P as j}from"./PortalLayout-DeJIQP9J.js";function v(){const[a,r]=i.useState("upcoming"),[o,m]=i.useState([]),[d,l]=i.useState(!0);i.useEffect(()=>{async function t(){l(!0);try{const s=await g(a);m(s.appointments||[])}catch(s){console.error("Failed to load appointments:",s)}finally{l(!1)}}t()},[a]);const x=t=>t?new Date(t+"T00:00:00").toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"}):"",c=t=>{if(!t)return"";const[s,h]=t.split(":"),n=parseInt(s),p=n>=12?"PM":"AM";return`${n>12?n-12:n||12}:${h} ${p}`},u=t=>({scheduled:"badge-light-info",confirmed:"badge-light-success",completed:"badge-light-neutral",cancelled:"badge-light-danger","no-show":"badge-light-warning"})[t]||"badge-light-neutral";return e.jsxs(j,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Appointments"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"View your upcoming and past appointments."})]}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsx("button",{onClick:()=>r("upcoming"),className:`px-4 py-2 rounded-xl font-semibold text-sm transition-all ${a==="upcoming"?"nav-main-active":"nav-main-inactive"}`,children:"Upcoming"}),e.jsx("button",{onClick:()=>r("past"),className:`px-4 py-2 rounded-xl font-semibold text-sm transition-all ${a==="past"?"nav-main-active":"nav-main-inactive"}`,children:"Past Visits"})]}),e.jsx("div",{className:"sanctum-glass-main p-6",children:d?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 mx-auto",style:{border:"2px solid rgba(107, 154, 196, 0.3)",borderTopColor:"rgba(107, 154, 196, 0.9)"}}),e.jsx("p",{className:"text-sm text-gray-500 mt-3",children:"Loading appointments..."})]}):o.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"text-gray-500 font-medium",children:a==="upcoming"?"No upcoming appointments":"No past appointments found"}),a==="upcoming"&&e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Contact your provider to schedule a visit."})]}):e.jsx("div",{className:"space-y-3",children:o.map(t=>e.jsx("div",{className:"sanctum-glass-card p-5 rounded-xl",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center flex-shrink-0",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:x(t.date)}),e.jsxs("p",{className:"text-sm text-gray-600 mt-0.5",children:[c(t.startTime)," - ",c(t.endTime)]}),t.type&&e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:t.type})]})]}),e.jsxs("div",{className:"text-left sm:text-right",children:[e.jsx("span",{className:`badge-sm ${u(t.status)}`,children:t.status}),t.providerName&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["with ",t.providerName]}),t.facilityName&&e.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:t.facilityName}),t.roomName&&e.jsx("p",{className:"text-xs text-gray-400",children:t.roomName})]})]})},t.id))})})]})}export{v as default};
