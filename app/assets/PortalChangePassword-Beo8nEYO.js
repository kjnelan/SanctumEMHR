import{u as h,r,j as e,t as l}from"./index-CoZMK1aj.js";import{d as g}from"./PortalService-CisPuOln.js";function N(){const o=h(),[s,m]=r.useState(""),[n,x]=r.useState(""),[c,i]=r.useState(!1),[d,a]=r.useState(""),u=async t=>{if(t.preventDefault(),a(""),s!==n){a("Passwords do not match");return}if(s.length<8){a("Password must be at least 8 characters");return}if(!/[a-z]/.test(s)||!/[A-Z]/.test(s)||!/[0-9]/.test(s)||!/[^a-zA-Z0-9]/.test(s)){a("Password must include uppercase, lowercase, number, and special character");return}i(!0);try{await g(s,n),o("/mycare/dashboard")}catch(p){a(p.message||"Failed to change password")}finally{i(!1)}};return e.jsxs("div",{className:"min-h-screen relative overflow-hidden flex items-center justify-center",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-mental"}),e.jsxs("div",{className:"absolute inset-0 overflow-hidden",children:[e.jsx("div",{className:"particle particle-1"}),e.jsx("div",{className:"particle particle-2"}),e.jsx("div",{className:"particle particle-3"})]}),e.jsx("div",{className:"relative z-10 w-full max-w-md mx-4",children:e.jsxs("div",{className:"sanctum-glass-main p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"sanctum-glass-card inline-block p-4 rounded-2xl mb-4",children:l.logoUrl?e.jsx("img",{src:l.logoUrl,alt:l.companyName,className:"h-12 w-auto mx-auto"}):e.jsx("div",{className:"text-3xl text-gray-700 font-bold",children:l.logoText})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Change Your Password"}),e.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"For your security, please create a new password before continuing."})]}),e.jsxs("form",{onSubmit:u,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-800 text-sm font-semibold mb-2",children:"New Password"}),e.jsx("input",{type:"password",value:s,onChange:t=>m(t.target.value),className:"input-lg",placeholder:"Enter new password",required:!0,autoComplete:"new-password"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-gray-800 text-sm font-semibold mb-2",children:"Confirm Password"}),e.jsx("input",{type:"password",value:n,onChange:t=>x(t.target.value),className:"input-lg",placeholder:"Confirm new password",required:!0,autoComplete:"new-password"})]}),e.jsxs("div",{className:"sanctum-glass-card p-3 rounded-xl",children:[e.jsx("p",{className:"text-xs text-gray-600 font-medium",children:"Password requirements:"}),e.jsxs("ul",{className:"text-xs text-gray-500 mt-1 space-y-0.5",children:[e.jsx("li",{className:s.length>=8?"text-green-600":"",children:"At least 8 characters"}),e.jsx("li",{className:/[A-Z]/.test(s)?"text-green-600":"",children:"One uppercase letter"}),e.jsx("li",{className:/[a-z]/.test(s)?"text-green-600":"",children:"One lowercase letter"}),e.jsx("li",{className:/[0-9]/.test(s)?"text-green-600":"",children:"One number"}),e.jsx("li",{className:/[^a-zA-Z0-9]/.test(s)?"text-green-600":"",children:"One special character"})]})]}),d&&e.jsx("div",{className:"error-message",children:d}),e.jsx("button",{type:"submit",disabled:c,className:"btn-search w-full disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Updating...":"Set New Password"})]})]})})]})}export{N as default};
