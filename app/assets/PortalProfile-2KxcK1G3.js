import{r,j as e}from"./index-D1kIezjP.js";import{f as A,g as L}from"./PortalService-CisPuOln.js";import{P as M}from"./PortalLayout-BIABA3X3.js";const E=["AL","AK","AZ","AR","CA","CO","CT","DE","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","DC"];function F(){const[s,N]=r.useState(null),[d,m]=r.useState(!1),[c,g]=r.useState({}),[p,C]=r.useState(!0),[f,u]=r.useState(!1),[j,o]=r.useState(""),[b,x]=r.useState("");r.useEffect(()=>{async function l(){try{const i=await A();N(i.profile),g(i.profile)}catch{o("Failed to load profile")}finally{C(!1)}}l()},[]);const P=async()=>{u(!0),o(""),x("");try{await L(c),N({...s,...c}),m(!1),x("Profile updated successfully"),setTimeout(()=>x(""),3e3)}catch(l){o(l.message||"Failed to update profile")}finally{u(!1)}},S=()=>{g(s),m(!1),o("")},y=(l,i)=>{g(h=>({...h,[l]:i}))},a=(l,i)=>e.jsxs("div",{className:"form-field",children:[e.jsx("div",{className:"form-field-label",children:l}),e.jsx("div",{className:"form-field-value",children:i||"-"})]}),t=(l,i,h="text",v=null)=>e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-600 uppercase tracking-wide mb-1",children:l}),v?e.jsxs("select",{value:c[i]||"",onChange:n=>y(i,n.target.value),className:"input-md",children:[e.jsx("option",{value:"",children:"Select..."}),v.map(n=>e.jsx("option",{value:n,children:n},n))]}):e.jsx("input",{type:h,value:c[i]||"",onChange:n=>y(i,n.target.value),className:"input-md"})]});return e.jsxs(M,{children:[e.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"My Profile"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"View and update your personal information."})]}),!d&&!p&&e.jsx("button",{onClick:()=>m(!0),className:"btn-action btn-sm btn-primary",children:"Edit Profile"})]}),b&&e.jsx("div",{className:"success-message mb-4",children:b}),j&&e.jsx("div",{className:"error-message mb-4",children:j}),p?e.jsx("div",{className:"sanctum-glass-main p-8 text-center",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 mx-auto",style:{border:"2px solid rgba(107, 154, 196, 0.3)",borderTopColor:"rgba(107, 154, 196, 0.9)"}})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"sanctum-glass-main p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Personal Information"}),e.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Contact your provider to update your name or date of birth."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a("First Name",s.firstName),a("Middle Name",s.middleName),a("Last Name",s.lastName),a("Date of Birth",s.dateOfBirth),a("Sex",s.sex),a("Provider",s.providerName),a("Facility",s.facilityName)]})]}),e.jsxs("div",{className:"sanctum-glass-main p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Contact Information"}),d?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t("Preferred Name","preferredName"),t("Email","email","email"),t("Mobile Phone","phoneMobile","tel"),t("Home Phone","phoneHome","tel")]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a("Preferred Name",s.preferredName),a("Email",s.email),a("Mobile Phone",s.phoneMobile),a("Home Phone",s.phoneHome)]})]}),e.jsxs("div",{className:"sanctum-glass-main p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Address"}),d?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t("Address Line 1","addressLine1"),t("Address Line 2","addressLine2"),t("City","city"),t("State","state","text",E),t("ZIP Code","zip")]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a("Address Line 1",s.addressLine1),a("Address Line 2",s.addressLine2),a("City",s.city),a("State",s.state),a("ZIP Code",s.zip)]})]}),e.jsxs("div",{className:"sanctum-glass-main p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Emergency Contact"}),d?e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t("Name","emergencyContactName"),t("Relationship","emergencyContactRelation"),t("Phone","emergencyContactPhone","tel")]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a("Name",s.emergencyContactName),a("Relationship",s.emergencyContactRelation),a("Phone",s.emergencyContactPhone)]})]}),d&&e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx("button",{onClick:S,className:"btn-action btn-sm btn-secondary",children:"Cancel"}),e.jsx("button",{onClick:P,disabled:f,className:"btn-action btn-sm btn-primary disabled:opacity-50",children:f?"Saving...":"Save Changes"})]})]})]})}export{F as default};
