import{r as i,j as e}from"./index-D1kIezjP.js";import{u as p,P as u}from"./PortalLayout-BIABA3X3.js";import{e as g}from"./PortalService-CisPuOln.js";function v(){const{client:a}=p(),[r,o]=i.useState([]),[c,d]=i.useState(!0);i.useEffect(()=>{async function s(){try{const t=await g("upcoming");o(t.appointments||[])}catch(t){console.error("Failed to load appointments:",t)}finally{d(!1)}}s()},[]);const m=s=>s?new Date(s+"T00:00:00").toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}):"",l=s=>{if(!s)return"";const[t,x]=s.split(":"),n=parseInt(t),h=n>=12?"PM":"AM";return`${n>12?n-12:n||12}:${x} ${h}`};return e.jsxs(u,{children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:["Welcome back, ",a?.firstName||"there"]}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Here's an overview of your care information."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"sanctum-glass-main p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Your Provider"}),a?.providerName?e.jsx("div",{className:"sanctum-glass-card p-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-blue-400 to-blue-600 flex items-center justify-center text-white font-bold text-lg",children:a.providerName.split(" ").map(s=>s[0]).join("")}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:a.providerName}),e.jsx("p",{className:"text-sm text-gray-500",children:"Primary Provider"})]})]})}):e.jsx("p",{className:"text-gray-500 text-sm",children:"No provider assigned yet."})]}),e.jsxs("div",{className:"sanctum-glass-main p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Quick Links"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("a",{href:"#/mycare/appointments",className:"sanctum-glass-card p-4 rounded-xl flex items-center gap-3 hover:shadow-lg transition-all cursor-pointer block",children:[e.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:"View Appointments"}),e.jsx("p",{className:"text-xs text-gray-500",children:"See upcoming and past visits"})]})]}),e.jsxs("a",{href:"#/mycare/profile",className:"sanctum-glass-card p-4 rounded-xl flex items-center gap-3 hover:shadow-lg transition-all cursor-pointer block",children:[e.jsx("div",{className:"w-10 h-10 bg-green-50 rounded-lg flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:"My Profile"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Update your contact information"})]})]})]})]})]}),e.jsxs("div",{className:"mt-6 sanctum-glass-main p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Upcoming Appointments"}),c?e.jsx("div",{className:"text-center py-6",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 mx-auto",style:{border:"2px solid rgba(107, 154, 196, 0.3)",borderTopColor:"rgba(107, 154, 196, 0.9)"}})}):r.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("svg",{className:"w-12 h-12 text-gray-300 mx-auto mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),e.jsx("p",{className:"text-gray-500",children:"No upcoming appointments scheduled."}),e.jsx("p",{className:"text-gray-400 text-sm mt-1",children:"Contact your provider to schedule a visit."})]}):e.jsxs("div",{className:"space-y-3",children:[r.slice(0,5).map(s=>e.jsx("div",{className:"sanctum-glass-card p-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-xl flex items-center justify-center",children:e.jsx("svg",{className:"w-6 h-6 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:m(s.date)}),e.jsxs("p",{className:"text-sm text-gray-600",children:[l(s.startTime)," - ",l(s.endTime)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700",children:s.type||"Appointment"}),s.providerName&&e.jsxs("p",{className:"text-xs text-gray-500",children:["with ",s.providerName]}),s.facilityName&&e.jsx("p",{className:"text-xs text-gray-400",children:s.facilityName})]})]})},s.id)),r.length>5&&e.jsxs("a",{href:"#/mycare/appointments",className:"text-sm text-blue-600 font-medium hover:underline block text-center mt-2",children:["View all ",r.length," upcoming appointments"]})]})]})]})}export{v as default};
